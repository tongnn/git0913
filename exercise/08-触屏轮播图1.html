<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
	<title>触屏轮播图</title>
	<style>
		html,body,ul {
			margin: 0;
			padding: 0;
			width: 100%;
			height: 100%;
		}

		.carousel {
			width: 100%;
			overflow: hidden;
			position: relative;
		}

		ul{
			list-style: none;
			/*width: 1000%;*/
			position: relative;
			top: 0;
			overflow: hidden;
		} 

		ul li {
			float: left;
			/*width: 10%;*/
		}

		ul li a {
			display: block;
			width: 100%;
		}

		ul img {
			width: 100%;
			height: auto;
			vertical-align: middle;
		}

	</style>
</head>
<body>
	<div class="carousel">
		<ul>
			<li><a href="javascript:;"><img src="./image/0.png" alt=""></a></li>
			<li><a href="javascript:;"><img src="./image/1.png" alt=""></a></li>
			<li><a href="javascript:;"><img src="./image/2.png" alt=""></a></li>
			<li><a href="javascript:;"><img src="./image/3.png" alt=""></a></li>
			<li><a href="javascript:;"><img src="./image/4.png" alt=""></a></li>
			<li><a href="javascript:;"><img src="./image/5.png" alt=""></a></li>
			<li><a href="javascript:;"><img src="./image/6.png" alt=""></a></li>
			<li><a href="javascript:;"><img src="./image/7.png" alt=""></a></li>
		</ul>
	</div>

	<script>
		// 1.获取元素
		var carousel = document.querySelector(".carousel");
		var ul = document.querySelector("ul");
		var firstLi = ul.querySelector("li");
		var lastLi = ul.querySelector("li:last-child");

		// 2.声明变量
		var aLi, carouselWidth, startTx, endTx, index=0, timer;
		//3.初始化页面
		function init(){
			// 在第一个li前面添加最后一个li，在最后一个li后面添加第一个li
			ul.appendChild(firstLi.cloneNode(true));
			ul.insertBefore(lastLi.cloneNode(true), firstLi);
			//获取li
			aLi = ul.querySelectorAll("li");
			 
			//给ul和li设置宽高
			setWidth();
			//修正当前显示的li的位置
			index --;
			ul.style.left = index * carouselWidth + 'px';
			//让轮播图动起来
			autoPlay();
		}
		init();
		//设置宽高
		function setWidth(){
			carouselWidth = carousel.offsetWidth;
			// console.log(carouselWidth);
			for (var i = 0; i < aLi.length; i++) {
				ul.style.width = carouselWidth * aLi.length + 'px';
				aLi[i].style.width = carouselWidth + 'px';
			}
		}

		//2.让轮播图动起来
		function autoPlay(){
			timer = setInterval(function(){
				index --;
				ul.style.left = index * carouselWidth + 'px';
				ul.style.transition = 'all 1s';
			},1500)
		}
		 

	</script>
</body>
</html>